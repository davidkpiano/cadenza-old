//
// Forms Themes and Styles
// =======================

// Input Theme
@mixin input-style(
	$style: $form-input-style,
	$theme: $form-input-theme
) 
{
	@extend %ext-input-#{$style} !optional;
	@extend %theme-input-#{$theme} !optional;
}

@mixin theme-input-default(
	$color: $color-primary,
	$border-color-blur: mix(white, $color, 50%),
	$border-color-hover: $color,
	$border-color-focus: $color,

	$type-color-blur: $color-gray,
	$type-color-hover: $color-gray,
	$type-color-focus: $type-base-color-dark
) {
	border-color: $border-color-blur;
	color: $type-color-blur;

	&:hover {
		border-color: $border-color-hover;
		color: $type-color-hover;
	}

	&:focus {
		border-color: $border-color-focus;
		color: $type-color-focus;
	}
}

@mixin theme-input-transparent(
	$color: $form-input-bgcolor-lighten,

	$bgcolor: $color,
	$bgcolor-hover: delta-color($color),
	$bgcolor-focus: $bgcolor-hover,

	$type-color: inherit,
	$type-color-hover: $type-color,
	$type-color-focus: $type-color-hover,

	$border-color: delta-color($bgcolor),
	$border-color-hover: delta-color($bgcolor-hover),
	$border-color-focus: delta-color($bgcolor-focus)
) {
	background-color: $bgcolor;
	color: $type-color;
	border-color: $border-color;

	&:hover {
		background-color: $bgcolor-hover;
		color: $type-color-hover;
		border-color: $border-color-hover;
	}

	&:focus {
		background-color: $bgcolor-focus;
		color: $type-color-focus;
		border-color: $border-color-focus;
	}
}

%theme-input-default {
	%input {
		@extend %form-transition;
		@include theme-input-default($color-gray);

		&.primary { @include theme-input-default($color-primary); }
		&.secondary { @include theme-input-default($color-secondary); }
		&.light { @include theme-input-default($color-light); }
		&.dark { @include theme-input-default($color-dark); }

		&.success { @include theme-input-default($color-success); }
		&.warning { @include theme-input-default($color-warning); }
		&.failure { @include theme-input-default($color-failure); }

		&.lighten { @include theme-input-transparent($form-input-bgcolor-lighten); }
		&.darken { @include theme-input-transparent($form-input-bgcolor-darken); }
	}
}

@include add-theme('input', $form-input-theme);

// Select Theme
@mixin theme-select-default(
	$color: $color-light,
	$bg-color: $color,
	$border-color: darken($color, 5%),
	$type-color: foreground-color($color)
) {
	background-color: $bg-color;
	border-color: $border-color;
	color: $type-color;
	background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2cHgiIGhlaWdodD0iM3B4IiB2aWV3Qm94PSIwIDAgNiAzIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA2IDMiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwb2x5Z29uIHBvaW50cz0iNS45OTIsMCAyLjk5MiwzIC0wLjAwOCwwICIvPjwvc3ZnPg==');
	background-position-x: calc(100% - 1rem);
	background-position-y: center;
	background-repeat: no-repeat;
}

%theme-select-default {
	%select {
		@include theme-select-default();
	}
}

@include add-theme('select');

