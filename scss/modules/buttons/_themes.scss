// 
// Buttons Themes and Styles
// ========================

// Button Theme
@mixin button-style(
	$style: $button-style,
	$theme: $button-theme
) {
	@extend %ext-button-#{$style} !optional;
	@extend %theme-button-#{$theme} !optional;
}

// Default Button Style and Theme

%ext-button-default {
	@extend %button;
	@include form-transition((border-color, background-color, color));
}

@mixin theme-button-default($color: $color-primary, $quiet: false) {
	@if $color == transparent {
		background-color: transparent;
		border: none;
	} @else {
		@if $quiet == false {		
			color: foregroundColor($color, $color-default: $color-light);
			background-color: $color;
			border-color: darken($color, 10%);
		} @else {
			background-color: transparent;
			border-color: transparent;
		}

		&:hover, &:active {
			$color-hover: darken($color, 5%);

			color: foregroundColor($color-hover, $color-default: $color-light);
			background-color: $color-hover;
			border-color: darken($color-hover, 10%);
		}
	}
}

%theme-button-default {
	// Default style
	%button:not(.link):not(.quiet) {	
		@include theme-button-default;
	}

	// Normal styles
	%button:not(.quiet) {
		&.primary { @include theme-button-default($color-primary); }
		&.secondary { @include theme-button-default($color-secondary); }
		&.light { @include theme-button-default($color-light); }
		&.dark { @include theme-button-default($color-dark); }
	}

	// Quiet styles
	%button.quiet {
		@include theme-button-default($quiet: true);
		
		&.primary { @include theme-button-default($color-primary, $quiet: true); }
		&.secondary { @include theme-button-default($color-secondary, $quiet: true); }
		&.light { @include theme-button-default($color-light, $quiet: true); }
		&.dark { @include theme-button-default($color-dark, $quiet: true); }
	}

	// Link style
	%button.link {
		@include theme-button-default(transparent);
	}
}

@include add-theme('button', $button-theme);

// Transparent Button Style and Theme
%ext-button-transparent {
	@extend %button;
	@include form-transition((border-color, background-color, color));
}

@mixin theme-button-transparent($color: $color-primary, $color-text: $color) {
	background-color: transparent;
	border-color: $color;

	@if $color-text != auto {
		color: $color-text;
	}

	&:hover, &:active {
		background-color: $color;
		border-color: $color;

		@if $color-text != auto {
			color: foregroundColor($color);
		}
	}
}

%theme-button-transparent {
	%button {
		@include theme-button-transparent;

		&.primary { @include theme-button-transparent($color-primary); }
		&.secondary { @include theme-button-transparent($color-secondary); }
		&.light { @include theme-button-transparent($color-light); }
		&.dark { @include theme-button-transparent($color-dark); }
	}
}

