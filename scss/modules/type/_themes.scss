//
// Type Themes
// ===========

// Type Theme
@mixin type-style(
	$style: $type-style,
	$theme: $type-theme,
	$component: ''
) 
{
	@extend %ext-type-#{$style} !optional;
	@extend %theme-type-#{$theme} !optional;
}

%theme-type-default {
	&, p, li, span {
		color: $type-base-color;

		&.dark { color: $type-base-color-dark; }
		&.light { color: $type-base-color-light; }
		&.subtext { color: $type-subtext-color; }
		&.subtext-light { color: $type-subtext-color-light; }
		&.subtext-dark { color: $type-subtext-color-dark; }
	}
}

@include add-theme('type', $type-theme);

// Heading Theme
// -------------
@mixin heading-style(
	$style: $type-heading-style,
	$theme: $type-heading-theme,
	$component: 'heading'
) {
	@extend %ext-heading-#{$style} !optional;
	@extend %theme-heading-#{$theme}%#{$component} !optional;
}

%ext-heading-default {
	%h6 { text-transform: uppercase; }
}

%theme-heading-default {
	%heading {
		color: $type-heading-color;

		&.dark { color: $type-heading-color-dark; }
		&.light { color: $type-heading-color-light; }
	}

	%subheading, %heading-small {
		color: $type-subheading-color;

		&.dark { color: $type-subheading-color-dark; }
		&.light { color: $type-subheading-color-light; }
	}
}

@include add-theme('heading', $type-heading-theme);

// Anchor Theme
// ------------
@mixin anchor-style(
	$style: $type-anchor-style,
	$theme: $type-anchor-theme
) {
	@extend %ext-anchor-#{$style} !optional;
	@extend %theme-anchor-#{$theme} !optional;
}

@mixin theme-anchor-default(
	$color: $type-anchor-color,
	$color-hover: darken($color, 5%),
	$color-focus: $color-hover,
	$color-active: $color-hover
) {
	color: $color;

	&:hover { color: $color-hover; }
	&:focus { color: $color-focus; }
}

@mixin theme-anchors-hint-default(
	$color: $type-anchor-unhinted-color,
	$color-hover: $type-anchor-hinted-color
) {
	%anchor { color: $color; }

	&:hover %anchor { color: $color-hover; }
}

%ext-anchor-default {
	text-decoration: $type-anchor-decoration;

	&:hover {
		text-decoration: $type-anchor-decoration-hover;
	}

	> img {
		border: none;
	}
}

%theme-anchor-default {
	%anchor {
		@extend %form-transition;
		@include theme-anchor-default();
	}

	%anchor-light { @include theme-anchor-default($type-anchor-color-light); }
	%anchor-dark { @include theme-anchor-default($type-anchor-color-dark); }

	%anchors-hint { @include theme-anchors-hint-default(); }
}

@include add-theme('anchor', $type-anchor-theme);

// Preformatted Text Theme
// -----------------------
$x-pre-code-padding: 0.25rem 0.5rem !default;
$x-pre-code-radius: 0.25rem !default;
$x-pre-kbd-padding: $x-pre-code-padding !default;
$x-pre-kbd-radius: 0.25rem !default;

@mixin pre-style(
	$style: $type-pre-style,
	$theme: $type-pre-theme,
	$component: 'pre'
) {
	@extend %ext-pre-#{$style} !optional;
	@extend %theme-pre-#{$theme}%#{$component} !optional;
}

%theme-pre-default {
	%pre {
		color: $type-pre-color;

		&.light { color: $type-pre-color-light; }
		&.dark { color: $type-pre-color-dark; }
	}

	%code {
		color: $type-code-color;
		padding: $x-pre-code-padding;
		background: $color-gray-light;

		@if $x-pre-code-radius {
			@include border-radius($x-pre-code-radius);
		}
	}

	%kbd {
		&, &.light {
			font-family: $type-base-font-family;
			color: $type-base-color;
			padding: $x-pre-kbd-padding;
			background: $color-gray-light;
			border: 1px solid $color-gray;
			border-bottom-width: 3px;

			@if $x-pre-kbd-radius {
				@include border-radius($x-pre-kbd-radius);
			}
		}

		&.dark {
			color: $color-light;
			background: lighten($color-dark, 10%);
			border-color: $color-dark;
		}
	}
}

@include add-theme('pre', $type-pre-theme);

// Blockquote Theme
// ----------------
$x-blockquote-border-width: 1px !default;
$x-blockquote-footer-prefix: '\2014 \00A0';

@mixin blockquote-style(
	$style: $type-blockquote-style,
	$theme: $type-blockquote-theme,
	$component: 'blockquote'
) {
	@extend %ext-blockquote-#{$style} !optional;
	@extend %theme-blockquote-#{$theme}%#{$component} !optional;
}

%ext-blockquote-default {
	&, &.left {
		border-style: solid;
		border-width: 0;
		border-left-width: $x-blockquote-border-width;
	}

	&.right {
		text-align: right;
		border-left-width: 0;
		border-right-width: $x-blockquote-border-width;
	}
}

// TODO: dark theme
%theme-blockquote-default {
	%blockquote {	
		border-color: $type-blockquote-border-color;
		color: $type-blockquote-color;

		footer {
			color: $type-blockquote-footer-color;

			&::before {
				content: '\2014 \00A0';
			}
		}
	}
}

@include add-theme('blockquote', $type-blockquote-theme);






