// 
// Layers Mixins and Functions
// ===========================

@mixin drawer(
    $width: 100%,
    $height: 100%,
    $position: left,
    $active-selector: $transition-selector,
    $push: false,
    $mq: all,
    $animation: 'scaleUp',
    $extend: true
) {
    $push-translation: false;
    $drawer-width: column-width($width);
    $drawer-height: row-height($height);

    @if $extend {    
        @extend %drawer;
        @extend %drawer-#{$position} !optional;
    }    

    @include mq($mq) {
        &, &#{$active-selector} {
            // @include animation(#{$animation}-inactive);
            position: absolute !important;
            margin: 0;
            width: $drawer-width !important;
            height: $drawer-height !important;
        }
        
        &#{$active-selector} {
            // @include animation(#{$animation}-active);
            @if $push {
                @if $position == left {
                    $push-translation: translateX($drawer-width);
                } @else if $position == right {
                    $push-translation: translateX(-$drawer-width);
                } @else if $position == top {
                    $push-translation: translateY($drawer-height);
                } @else if $position == bottom {
                    $push-translation: translateY(-$drawer-height);
                }

                ~ * {
                    @include transform($push-translation);
                }
            }
        }
    }
}